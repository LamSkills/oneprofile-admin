version: '3'

services:

    admin:
      image: java:8-alpine
      hostname: client
      ports:
        - "8080:8080"
        - "5002:5002"
      volumes:
        - ./docker/config/admin/run.sh:/demo/run.sh
        - ./docker/config/admin/logback.xml:/demo/config/logback.xml
        - ./docker/config/admin/application-override.yml:/demo/config/application-override.yml
        - ./springboot2-oauth2-resource-sso-demo/target/springboot2-oauth2-resource-sso-demo-fat-exec.jar:/demo/jars/app-fat-exec.jar
      working_dir: "/demo"
#      command: "java -jar /demo/jars/app-fat-exec.jar"
#      command: "java -jar /demo/jars/app-fat-exec.jar --jwt.publickey.path=/demo/config/key.pub"
      command: "/demo/run.sh 5002"
